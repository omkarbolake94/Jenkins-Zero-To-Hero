pipeline  {
agent { dockerfile true }

stages {

stage ('Build') {
steps {
sh 'cd java-maven-sonar-argocd-helm-k8s/spring-boot-app && mvn clean install'
}
}
stage('Sonar Scanning'){
steps{
 withSonarQubeEnv('Sonarqube') {
    sh 'cd java-maven-sonar-argocd-helm-k8s/spring-boot-app && mvn sonar:sonar'
}

}
}

}
}
